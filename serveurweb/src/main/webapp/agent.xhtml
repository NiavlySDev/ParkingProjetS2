<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
 <h:head>
        <title>Gestion Utilisateurs</title>
    </h:head>
    <h:body>

    <ui:composition template = "templates/common.xhtml">	
        <ui:define name = "content">
            <p:messages id="messages" showDetail="true" closable="true">
                <p:autoUpdate/>
            </p:messages>

            <p:tabView>                         
                <p:tab title="Consignes">
                    <ui:include src="consignesView.xhtml" />
                </p:tab>

                <p:tab title="Temperatures">
                    <ui:include src="temperaturesView.xhtml" />
                </p:tab>            

     
   
        <h:form id="form">
            <p:panel header="Ajouter une salle " style="margin-bottom:20px;">
                <p:messages id="messages" showDetail="true" closable="true"/>
                <p:panelGrid columns="2" layout="grid" style="width:400px;">
                  
                    
                    <p:outputLabel for="salle" value="salle :" />
                    <p:spinner id="salle" value="#{utilisateurBean.salle}" min="0" max="120" />
                    
                    
                    <p:commandButton value="Enregistrer" icon="pi pi-save" action="#{utilisateurBean.createUser}" update="messages tableUtilisateurs" styleClass="p-mt-3"/>
                </p:panelGrid>
            </p:panel>

            <p:panel header="Liste des utilisateurs" style="width:750px;">
                <p:dataTable id="tableUtilisateurs" value="#{utilisateurBean.utilisateurs}" var="u"
                             paginator="true" rows="5" style="width:100%;" rowIndexVar="idx">
                    <p:column headerText="Nom">
                        <h:outputText value="#{u.name}" /> 
                    </p:column>
                    
                    <p:column headerText="PrÃ©nom">
                        <h:outputText value="#{u.firstName}" /> 
                    </p:column>
                    
                   <p:column headerText="Genre">
                      
                       <h:outputText value="#{u.isMasculin}"/> 
                    </p:column>
                    
                    <p:column headerText="Ã‚ge"> 
                        <h:outputText value="#{u.age}" /> 
                    </p:column>
                    
                     <p:column headerText="password">
                         <h:outputText value="#{u.password}" />
                    </p:column>
                    
                    <p:column headerText="Login">
                        <h:outputText value="#{u.login}" />
                    </p:column>
                    
           
                    <p:column headerText="Supprimer" style="width:100px; text-align:center;">
                        <p:commandButton icon="pi pi-trash" title="Supprimer" action="#{utilisateurBean.supprimer(u)}" update="@form" styleClass="p-button-danger p-button-sm" />
                    </p:column>
                </p:dataTable>
            </p:panel>
       
            </p:tabView>   
        </ui:define>
    </ui:composition>
</html>	